import { expect, it } from 'vitest'

import { bigNumberFormat, bigNumberFormatAbbreviated } from './bignumber'

it('bigNumberFormat', () => {
  expect(bigNumberFormat('0.00000001', 8)).toBe('0.00000001')
  expect(bigNumberFormat('0.00000001', 8, true)).toBe('+0.00000001')
  expect(bigNumberFormat('-0.00000001', 8)).toBe('-0.00000001')
  expect(bigNumberFormat('-0.00000001', 8, true)).toBe('-0.00000001')
  expect(bigNumberFormat('0.0000001', 8)).toBe('0.00000010')
  expect(bigNumberFormat('0.0000001', 8, true)).toBe('+0.00000010')
  expect(bigNumberFormat('-0.0000001', 8)).toBe('-0.00000010')
  expect(bigNumberFormat('-0.0000001', 8, true)).toBe('-0.00000010')
  expect(bigNumberFormat('11111111111111111111', 8)).toBe('11,111,111,111,111,111,111.00000000')
  expect(bigNumberFormat('11111111111111111111')).toBe('11,111,111,111,111,111,111')
})

it('bigNumberFormatAbbreviated', () => {
  expect(bigNumberFormatAbbreviated('0.00000001', 8)).toBe('0.00000001')
  expect(bigNumberFormatAbbreviated('0.00000001', 8, true)).toBe('+0.00000001')
  expect(bigNumberFormatAbbreviated('-0.00000001', 8)).toBe('-0.00000001')
  expect(bigNumberFormatAbbreviated('-0.00000001', 8, true)).toBe('-0.00000001')
  expect(bigNumberFormatAbbreviated('0.0000001', 8)).toBe('0.0000001')
  expect(bigNumberFormatAbbreviated('0.000001', 8)).toBe('0.000001')
  expect(bigNumberFormatAbbreviated('0.00001', 8)).toBe('0.00001')
  expect(bigNumberFormatAbbreviated('0.0001', 8)).toBe('0.0001')
  expect(bigNumberFormatAbbreviated('0.001', 8)).toBe('0.001')
  expect(bigNumberFormatAbbreviated('0.01', 8)).toBe('0.01')
  expect(bigNumberFormatAbbreviated('0.1', 8)).toBe('0.1')
  expect(bigNumberFormatAbbreviated('1', 8)).toBe('1')
  expect(bigNumberFormatAbbreviated('1.1', 8)).toBe('1.1')
  expect(bigNumberFormatAbbreviated('11', 8)).toBe('11')
  expect(bigNumberFormatAbbreviated('11.1', 8)).toBe('11.1')
  expect(bigNumberFormatAbbreviated('111', 8)).toBe('111')
  expect(bigNumberFormatAbbreviated('111.1', 8)).toBe('111.1')
  expect(bigNumberFormatAbbreviated('1111', 8)).toBe('1.1k')
  expect(bigNumberFormatAbbreviated('1111.1', 8)).toBe('1.1k')
  expect(bigNumberFormatAbbreviated('11111')).toBe('11.1k')
  expect(bigNumberFormatAbbreviated('111111')).toBe('111.1k')
  expect(bigNumberFormatAbbreviated('1111111')).toBe('1.1M')
  expect(bigNumberFormatAbbreviated('11111111')).toBe('11.1M')
  expect(bigNumberFormatAbbreviated('111111111')).toBe('111.1M')
  expect(bigNumberFormatAbbreviated('1111111111')).toBe('1.1B')
  expect(bigNumberFormatAbbreviated('11111111111')).toBe('11.1B')
  expect(bigNumberFormatAbbreviated('111111111111')).toBe('111.1B')
  expect(bigNumberFormatAbbreviated('1111111111111')).toBe('1.1T')
  expect(bigNumberFormatAbbreviated('11111111111111')).toBe('11.1T')
  expect(bigNumberFormatAbbreviated('111111111111111')).toBe('111.1T')
  expect(bigNumberFormatAbbreviated('11111111111111111111')).toBe('11,111,111.1T')
})
